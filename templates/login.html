<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <title>Login - MMUPastPapers</title>
</head>
<body>

  <!-- Header Bar -->
  <header class="topbar">
    <div class="container">
      <!-- Logo -->
      <div class="logo">
        <img src="mmupplogo.png" alt="Logo" class="logo" />
      </div>

      <!-- Menu -->
      <nav class="menu">
        <a href="login.html">Login</a>|
        <a href="register.html">Register</a>
      </nav>
    </div>
  </header>
  
  <div class="loginBox">
    <h2>Login</h2>
    <form action="/login" method="POST" id="resetForm">
      <div class="usernameBox">
        <label for="username">Username</label>
        <input type="text" id="username" name="username">
      </div>
      <div class="passwordBox">
        <label for="password">Password</label>
        <input type="password" id="password" name="password">
      </div>
      <a href="{{ url_for('resetPassword') }}">Forgot Password?</a>
      <button type="submit">Login</button>
    </form>
    <p>
      Don't have an account? <a href="register.html">Register here</a>
    </p>
  </div>

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <script>
        {% for category, message in messages %}
          {% if category == 'error' %}
            Swal.fire({
              icon: 'error',
              title: 'Oops! An error occured.',
              text: "{{ message }}"
            });
        
          {% elif category == 'success' %}
            Swal.fire({
              icon: 'success',
              title: 'Yay! Success.',
              text: "{{ message }}"
            });
          {% endif %}
      {% endfor %}
      </script>
    {% endif %}
{% endwith %}

</body>
</html>
